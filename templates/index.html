{% include "header.html" %}
{% verbatim  %}
<el-row>
  <el-col :span=1><div style="visibility: hidden;">&nbsp;</div></el-col>
  <el-col :span=22>
<el-tabs v-model="curTab" @tab-remove="removeTab" type="card">
  <el-tab-pane v-for="(item, _ind) in tabs"
      :label="item.job.branch + ':' + item.job.title + ' #' + item.job.type"
      :name="item.job.id"
      :closable="_ind > 0">
    <el-table
      :data="item.list"
      border stripe @row-click="gotoJob"
      style="width: 96%">
      <el-table-column prop="type" label="级别" width=80></el-table-column>
      <el-table-column prop="branch" sortable label="部门名"></el-table-column>
      <el-table-column prop="title" label="职务名"></el-table-column>
      <el-table-column prop="card" sortable label="学号">
        <template scope="scope">
          <a @click.prevent.stop="gotoUser(scope.row)" href="#">{{ scope.row.card }}</a>
        </template>
      </el-table-column>
      <el-table-column prop="name" sortable label="姓名">
        <template scope="scope">
          <el-popover trigger="hover" placement="top">
            <p>姓名: {{ scope.row.name }}</p>
            <p>宿舍: {{ scope.row.flat }}</p>
            <p>任命时间: {{ scope.row.start | date }}</p>
            <div slot="reference" class="name-wrapper" @click.stop="gotoUser(scope.row)">
              <el-tag type="primary">{{ scope.row.name }}</el-tag>
            </div>
          </el-popover>
        </template>
      </el-table-column>
      <el-table-column prop="email" sortable label="邮箱"></el-table-column>
      <el-table-column prop="cell" sortable label="手机号"></el-table-column>
    </el-table>
  </el-tab-pane>
</el-tabs>
  </el-col>
</el-row>

<script src="/static/js/index.js"></script>
{% endverbatim  %}
{% include "footer.html" %}